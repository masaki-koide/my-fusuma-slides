import { SelfIntroduce } from '../../components/SelfIntroduce'

<!-- sectionTitle: ã¯ã˜ã‚ã¦ã®Figma Pluginé–‹ç™º -->

# è‡ªå·±ç´¹ä»‹

<SelfIntroduce />

---

<!-- sectionTitle: Figma Pluginã£ã¦ãŠã„ã—ã„ã®ï¼Ÿ -->

# Figmaã£ã¦ï¼Ÿ

<br />

<div class="card-50">
  <img class="image size-50" src="../../image/figma.png" />
  <ul class="flexblock activity">
    <li>æœ€è¿‘å‹¢ã„ã®ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«</li>
    <li>Webç‰ˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªç‰ˆãŒã‚ã‚‹</li>
    <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å…±åŒç·¨é›†ã‚„URLå…±æœ‰ãŒå¼·ã¿</li>
  </ul>
</div>

---

# ã˜ã‚ƒã‚Figma Pluginã£ã¦ï¼Ÿ

<ul class="flexblock activity">
  <li>ã“ã‚Œã¾ã§ã‚‚ãƒ–ãƒ©ã‚¦ã‚¶ã®æ‹¡å¼µæ©Ÿèƒ½ã‚„Web APIã¯ã‚ã£ãŸ</li>
  <li>Figmaã®sandboxå†…ã§å‹•ä½œã™ã‚‹ã®ãŒPlugin</li>
  <li>2019å¹´8æœˆã«ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã°ã‹ã‚Š</li>
</ul>

---

# ç¥ã€…ã®Plugin

<ul class="flexblock activity">
  <li>
    Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€ç™ºã§åŸ‹ã‚è¾¼ã‚€ã‚„ãƒ¼ã¤
    <br />
    <a href="https://twitter.com/DavidWilliames/status/1156503669707161600">
      https://twitter.com/DavidWilliames/status/1156503669707161600
    </a>
  </li>
  <li>
    ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ã§å†™çœŸã‹ã‚‰äººã‚’æ¶ˆã™ã‚„ãƒ¼ã¤
    <br />
    <a href="https://twitter.com/matamalaortiz/status/1163551129956954113">
      https://twitter.com/matamalaortiz/status/1163551129956954113
    </a>
  </li>
</ul>

---

# ãªã‚“ã§Figma Pluginã«èˆˆå‘³ã‚’æŒã£ãŸã‹

<ul class="flexblock activity">
  <li>TypeScriptã§æ›¸ã‘ã‚‹(å‹ãŒã‚ã‚‹ä¸–ç•Œæœ€é«˜)&#x1F44D;</li>
  <li>æ¥­å‹™ã§ä½¿ã£ã¦ã‚‹ã—ã€æœ€è¿‘å‹¢ã„ãŒã‚ã‚‹&#x1F44D;</li>
  <li>å‹•ä½œã®ä»•çµ„ã¿ã‚„ãƒ‡ãƒãƒƒã‚°ç’°å¢ƒãŒé¢ç™½ã„&#x1F44D;</li>
</ul>

---

<!-- sectionTitle: Figma Pluginã‚’ã¤ãã£ã¦ã¿ã‚ˆã† -->

# Pluginã®ä»•çµ„ã¿

<img class="image size-70" src="https://static.figma.com/uploads/04c4c6293fce2a7fe67bccd385ee5ab998705780" />

[How Plugins Run - Figma Developers](https://www.figma.com/plugin-docs/how-plugins-run/)

---
# ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

<br />

åŸºæœ¬çš„ã«`code.ts`ã¨`ui.html`ã‚’ç·¨é›†ã—ã¦ã„ã

<br />

```
.
â”œâ”€â”€ README.md
â”œâ”€â”€ code.js
â”œâ”€â”€ code.ts
â”œâ”€â”€ figma.d.ts
â”œâ”€â”€ manifest.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ ui.html
```

---

<img class="image size-40" src="../../image/figma-plugin.png" />

---

# 36è¡Œã§æ›¸ã„ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³(DEMO)

---

```javascript
// ui.html
<p><input id="text" /> <button id="zoom">Zoom Text</button></p>
<p id="message"></p>
<p><button id="close">Close Plugin</button></p>

<script>
  document.getElementById('zoom').onclick = () => {
    const textbox = document.getElementById('text')
    const query = textbox.value
    parent.postMessage({ pluginMessage: { type: 'zoom', query } }, '*')
  }
  document.getElementById('close').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'close' } }, '*')
  }
  onmessage = event => {
    const message = document.getElementById('message')
    message.textContent = event.data.pluginMessage
  }
</script>
```
___

```javascript
// code.ts
figma.showUI(__html__)

figma.ui.onmessage = msg => {
  if (msg.type === 'zoom') {
    const searchNode = figma.currentPage.findOne(node => {
      return node.type === 'TEXT' && node.characters === msg.query
    })
    
    if (searchNode) {
      figma.viewport.scrollAndZoomIntoView([searchNode])
      figma.ui.postMessage('ãŠæ¢ã—ã®ãƒ†ã‚­ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸğŸ‘')
    } else {
      figma.ui.postMessage('ãŠæ¢ã—ã®ãƒ†ã‚­ã‚¹ãƒˆã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸğŸ‘')
    }
  } else if (msg.type === 'close') {
    figma.closePlugin()
  }
}
```

___

<!-- sectionTitle: Figma Pluginã®æœªæ¥ -->

# ç™ºå±•ã¨ã—ã¦...

<br />

æ™®æ®µã®Webé–‹ç™ºã®ã‚¹ã‚­ãƒ«ãŒã‚´ãƒªã‚´ãƒªä½¿ãˆã¦å¤¢ãŒåºƒãŒã‚‹:sparkles:

<br />

<ul class="flexblock activity">
  <li>ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ</li>
  <li>Reactã‚„Vueã§è¤‡é›‘ãªUIã‚’æ§‹æˆ</li>
  <li>å¤–éƒ¨APIã¨ã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</li>
</ul>

---

# ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ

___

# å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚‚ã®

<br />

- [introduction - Figma Developers](https://www.figma.com/plugin-docs/intro/)
- [figma/plugin-samples](https://github.com/figma/plugin-samples)
- [Figmaã«PluginãŒã¤ã„ã«æ¥ãŸã®ã§ã‚ˆã•ãã†ãªã‚‚ã®ã‚’ã”ç´¹ä»‹](https://note.mu/fjkn/n/n125c25962ba6)
- [Figma Pluginã‚’ä½œã‚ã†ï¼](https://speakerdeck.com/takanorip/making-figma-plugins-with-typescript)
